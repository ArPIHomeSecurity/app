<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Argus</title>
  <link rel="icon" type="image/x-icon" href="assets/images/argus-eye-16.png">
  <base href="/">

  <script>
    // check if path is in valid format
    const pathParser = new RegExp('^(?<version>/v\\d*-?[a-zA-Z]*)?/(?<language>[a-z]{2})/(?<path>.*)$');
    const matches = pathParser.exec(window.location.pathname);
    if (matches) {
      // Store the URL the user was trying to access when receiving the 404.
      sessionStorage.redirect = location.href;

      const newPath = [matches.groups.version, matches.groups.language].join('/');
      if (newPath !== location.pathname) {
        // Immediately redirect to the base URL so we can use the SPA routing.
        console.log('Redirect to ' + newPath);
        location.pathname = newPath;
      }
      else {
        console.log('No need to redirect');
      }
    }
    else {
      console.error('Path does not match: ', location.pathname, "! Redirecting to '/latest/'");
      location.pathname = '/latest/';
    }
  </script>
</head>

<body>
  <!-- IE required at least 512 bytes of data to show non-default 404. -->
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</body>

</html>